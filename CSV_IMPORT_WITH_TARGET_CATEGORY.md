# CSV Импорт с указанием целевой категории

## Описание функциональности

Добавлена возможность при загрузке товаров через CSV файл указать целевую категорию, в которую будут импортированы все товары, независимо от категорий, указанных в самом CSV файле.

## Изменения в бэкенде

### 1. CsvImportRequest DTO
- Добавлено поле `targetCategoryId` для указания ID целевой категории

### 2. CsvProductService
- Добавлен перегруженный метод `importProductsFromCsv(MultipartFile csvFile, Long targetCategoryId)`
- Обновлен метод `convertCsvToProductDto` для поддержки целевой категории
- Если указана целевая категория, она используется для всех товаров, игнорируя `categoryId` из CSV

### 3. ProductController
- Добавлен новый endpoint `/products/import-csv-with-category`
- Принимает файл и `targetCategoryId` в качестве параметров
- Возвращает информацию об импорте с указанием целевой категории

## Изменения во фронтенде

### 1. API методы (lib/api.ts)
- Добавлен метод `apiImportCsvWithCategory(file, targetCategoryId)`

### 2. CsvImport компонент
- Добавлена загрузка списка категорий при инициализации
- Добавлен чекбокс "Импортировать все товары в одну категорию"
- Добавлен селект для выбора целевой категории
- Обновлена логика импорта для использования нового API метода
- Обновлено описание функциональности

## Использование

1. Загрузите CSV файл
2. Включите опцию "Импортировать все товары в одну категорию"
3. Выберите целевую категорию из выпадающего списка
4. Нажмите "Импортировать"

При этом все товары из CSV будут добавлены в выбранную категорию, независимо от значений в колонке `categoryId` файла.

## Обратная совместимость

Существующий функционал импорта без указания целевой категории остается без изменений. Поле `categoryId` в CSV файле по-прежнему используется, если не выбрана целевая категория.
